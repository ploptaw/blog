<!DOCTYPE html><html lang=ja><meta charset=UTF-8><title>lightningcssについて</title><meta content="This site offers useful tools for minecraft, as well as personal blogs and memorandums." name=description><meta content="minecraft, pixel-art, blog" name=keywords><meta content="width=device-width,initial-scale=1" name=viewport><meta content=#e0e5ec name=theme-color><link href=/manifest.json rel=manifest><link href=/images/favicon.ico rel=icon><link href=https://fonts.googleapis.com rel=preconnect><link href=https://fonts.gstatic.com rel=preconnect crossorigin=""><link href=/style.min.css rel=stylesheet as=style media=all><link href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css rel=preload as=style onload="this.onload=null;this.rel='stylesheet'" style="font-display: swap;"><style>/*! purgecss start ignore */ code[class*=language-],pre[class*=language-]{color:#000;background:0 0;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{position:relative;border-left:10px solid #358ccb;box-shadow:-1px 0 0 0 #358ccb,0 0 0 1px #dfdfdf;background-color:#fdfdfd;background-image:linear-gradient(transparent 50%,rgba(69,142,209,.04) 50%);background-size:3em 3em;background-origin:content-box;background-attachment:local;margin:.5em 0;padding:0 1em}pre[class*=language-]>code{display:block}:not(pre)>code[class*=language-]{position:relative;padding:.2em;border-radius:.3em;color:#c92c2c;border:1px solid rgba(0,0,0,.1);display:inline;white-space:normal;background-color:#fdfdfd;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#7d8b99}.token.punctuation{color:#5f6364}.token.boolean,.token.constant,.token.deleted,.token.function-name,.token.number,.token.property,.token.symbol,.token.tag{color:#c92c2c}.token.attr-name,.token.builtin,.token.char,.token.function,.token.inserted,.token.selector,.token.string{color:#2f9c0a}.token.entity,.token.operator,.token.url,.token.variable{color:#a67f59;background:rgba(255,255,255,.5)}.token.atrule,.token.attr-value,.token.class-name,.token.keyword{color:#1990b8}.token.important,.token.regex{color:#e90}.language-css .token.string,.style .token.string{color:#a67f59;background:rgba(255,255,255,.5)}.token.important{font-weight:400}.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.namespace{opacity:.7} /*! purgecss end ignore */</style><header class=home-header><nav class=nav-links><div><a class=nav-link href=/ >home</a> <a class=nav-link href=/about>about</a> <a class=nav-link href=/gallery>gallery</a> <a class=nav-link href=https://github.com/ploptaw><i class="bi bi-github"></i> GitHub</a></div></nav></header><main><article><h1>lightningcssについて</h1><time datetime="Fri Mar 21 2025 09:00:00 GMT+0900 (GMT+09:00)">2025年03月21日</time><hr class=section-divider><h3>問題点</h3><p><code>lightningcss</code>を使用していた際に，ヘルプを確認したくなり以下のコマンドを実行した．<pre class=language-bash><code class=language-bash>npx lightningcss-cli <span class="token parameter variable">--help</span>
</code></pre><p>その後，ドキュメントに記載されているスクリプトが動作しなった．<pre class=language-json><code class=language-json><span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"lightningcss --minify --bundle --targets \"&ampgt;= 0.25%\" input.css -o output.css"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h3>解決法</h3><p>以下の方法で問題を解決した．<ol><li><p><code>lightningcss-cli</code>のコマンドを直接実行する：<pre class=language-bash><code class=language-bash>npx lightningcss-cli <span class="token parameter variable">--minify</span> <span class="token parameter variable">--bundle</span> <span class="token parameter variable">--targets</span> <span class="token string">"&ampgt;= 0.25%"</span> src/style.css <span class="token parameter variable">-o</span> src/style.min.css
</code></pre><li><p><code>package.json</code>のスクリプトに組み込む：<pre class=language-json><code class=language-json><span class="token punctuation">{</span>
  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"compress"</span><span class="token operator">:</span> <span class="token string">"npx lightningcss-cli --minify --bundle --targets \"&ampgt;= 0.25%, not dead\" src/style.css -o src/style.min.css"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></ol></article></main>